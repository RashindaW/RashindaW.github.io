<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Projects — Rashinda Wijethunga</title>
<link rel="stylesheet" href="/assets/css/styles.css">
</head>
<body>

<div class="container">
  <div class="nav">
    <div style="display:flex;gap:10px;align-items:center">
      <a href="/" class="badge" aria-label="Home">RW</a>
      <strong>Rashinda Wijethunga</strong>
    </div>
    <div style="display:flex;gap:8px;align-items:center">
      <a href="/about.html">About</a>
      <a href="/projects.html">Projects</a>
      <a href="/blogs.html">Blogs</a>
      <a href="/assets/cv/Rashinda.pdf" class="btn">Download CV</a>
      <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme">
        <svg class="sun-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
        </svg>
        <svg class="moon-icon" style="display:none" viewBox="0 0 24 24" fill="currentColor">
          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
        </svg>
      </button>
    </div>
  </div>
</div>

<div class="container">
  <h2 class="h2">Projects</h2>
  <div class="grid g2">
    <div class="card">
      <div class="h3">Spatio‑Temporal GNN for CO₂ Refrigeration Leak Detection</div>
      <p class="p">Phase II Mitacs project with Neelands: incipient + catastrophic leak detection using dynamic graph signals and explainability via counterfactuals.</p>
      <div class="gallery"><img src="/assets/img/placeholder-1.jpg" alt="CO₂ project"></div>
    </div>
    <div class="card">
      <div class="h3">Node‑Edge Counterfactual Explanations (NE‑CFE)</div>
      <p class="p">Perturbation‑based counterfactuals that jointly optimize node features and edge toggles via Binary‑Concrete edge gates.</p>
      <div class="gallery"><img src="/assets/img/placeholder-2.jpg" alt="NE-CFE"></div>
    </div>
    <div class="card">
      <div class="h3">Indoor Navigation for the Visually Impaired</div>
      <p class="p">BLE beacons + ML proximity model + hybrid Kalman‑Median filter; collaboration with The Ceylon School for the Deaf and Blind.</p>
      <div class="gallery"><img src="/assets/img/placeholder-3.jpg" alt="Indoor navigation"></div>
    </div>
    <div class="card">
      <div class="h3">Ergomate — IoT‑Based Ergonomic Office System</div>
      <p class="p">2nd place at SLIoT 2018 (Sri Lanka's largest IoT competition). Smart office system monitoring posture, hydration, air quality, and drowsiness via webcam—with user alerts and HR analytics dashboard. Built during internship at Millennium IT ESP.</p>
      <div class="carousel" id="ergomate-carousel">
        <div class="carousel-container">
          <img src="/assets/img/ergomate-team.jpg" alt="Ergomate team with award" class="active">
          <img src="/assets/img/ergomate-dashboard.jpg" alt="Ergomate dashboard">
          <img src="/assets/img/ergomate-workspace.jpg" alt="Ergomate workspace">
          <img src="/assets/img/ergomate-chair.jpg" alt="Ergonomic chair">
          <img src="/assets/img/ergomate-hardware.jpg" alt="IoT hardware">
          <button class="carousel-arrow left" onclick="moveCarousel('ergomate-carousel', -1)">‹</button>
          <button class="carousel-arrow right" onclick="moveCarousel('ergomate-carousel', 1)">›</button>
        </div>
        <div class="carousel-dots" id="ergomate-carousel-dots"></div>
      </div>
    </div>
  </div>
</div>

<div class="container">
  <div class="footer">
    <div>© <span id="y"></span> Rashinda Wijethunga • <a href="mailto:rwijethu@uwo.ca">rwijethu@uwo.ca</a> • <a href="https://www.linkedin.com/in/rashinda" rel="me">LinkedIn</a></div>
    <script>document.getElementById('y').textContent=new Date().getFullYear()</script>
    <div><small class="muted">Built with ♥ and GitHub Pages</small></div>
  </div>
</div>

<script>
// Initialize theme from localStorage or default to dark
const initTheme = () => {
  const savedTheme = localStorage.getItem('theme') || 'dark';
  if (savedTheme === 'light') {
    document.documentElement.classList.add('light-theme');
    updateThemeIcon(true);
  }
};

// Toggle between light and dark themes
const toggleTheme = () => {
  const isLight = document.documentElement.classList.toggle('light-theme');
  localStorage.setItem('theme', isLight ? 'light' : 'dark');
  updateThemeIcon(isLight);
};

// Update the theme toggle icon
const updateThemeIcon = (isLight) => {
  const sunIcon = document.querySelector('.sun-icon');
  const moonIcon = document.querySelector('.moon-icon');
  if (sunIcon && moonIcon) {
    sunIcon.style.display = isLight ? 'none' : 'block';
    moonIcon.style.display = isLight ? 'block' : 'none';
  }
};

// Carousel functionality
let carouselIndexes = {};

const initCarousel = (carouselId) => {
  carouselIndexes[carouselId] = 0;
  const carousel = document.getElementById(carouselId);
  const images = carousel.querySelectorAll('.carousel-container img');
  const dotsContainer = document.getElementById(`${carouselId}-dots`);
  
  // Create dots
  images.forEach((_, index) => {
    const dot = document.createElement('div');
    dot.className = `carousel-dot ${index === 0 ? 'active' : ''}`;
    dot.onclick = () => goToSlide(carouselId, index);
    dotsContainer.appendChild(dot);
  });
};

const moveCarousel = (carouselId, direction) => {
  const carousel = document.getElementById(carouselId);
  const images = carousel.querySelectorAll('.carousel-container img');
  const dots = carousel.querySelectorAll('.carousel-dot');
  
  images[carouselIndexes[carouselId]].classList.remove('active');
  dots[carouselIndexes[carouselId]].classList.remove('active');
  
  carouselIndexes[carouselId] = (carouselIndexes[carouselId] + direction + images.length) % images.length;
  
  images[carouselIndexes[carouselId]].classList.add('active');
  dots[carouselIndexes[carouselId]].classList.add('active');
};

const goToSlide = (carouselId, index) => {
  const carousel = document.getElementById(carouselId);
  const images = carousel.querySelectorAll('.carousel-container img');
  const dots = carousel.querySelectorAll('.carousel-dot');
  
  images[carouselIndexes[carouselId]].classList.remove('active');
  dots[carouselIndexes[carouselId]].classList.remove('active');
  
  carouselIndexes[carouselId] = index;
  
  images[carouselIndexes[carouselId]].classList.add('active');
  dots[carouselIndexes[carouselId]].classList.add('active');
};

// Run on page load
initTheme();
initCarousel('ergomate-carousel');
</script>

</body>
</html>
